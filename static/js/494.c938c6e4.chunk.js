"use strict";(self.webpackChunkmovies_db=self.webpackChunkmovies_db||[]).push([[494],{655:(e,s,a)=>{a.d(s,{A:()=>l});var t=a(43);const n="Button_Button__sVEZw",r="Button_ButtonWrapper__n1vbJ";var c=a(579);class o extends t.Component{render(){return(0,c.jsx)("div",{className:r,children:(0,c.jsx)("button",{type:"submit",className:n,onClick:this.props.onClick,children:(0,c.jsx)("span",{className:"button-label",children:"LoadMore"})})})}}const l=o},756:(e,s,a)=>{a.d(s,{H7:()=>l,Zq:()=>r,hZ:()=>o,xi:()=>c,yz:()=>i});const t="112103a89f43817e1ae7d8a60b354bbb",n="https://api.themoviedb.org/3/";async function r(e){const s="trending/movie/day?api_key=".concat(t,"&page=").concat(e,"&include_adult=false"),a=n+s;return await fetch(a).then((e=>e.json()))}async function c(e,s){const a="search/movie?api_key=".concat(t,"&language=en-US&query=").concat(e,"&page=").concat(s,"&include_adult=false"),r=n+a;return await fetch(r).then((e=>e.json()))}async function o(e){const s="movie/".concat(e,"?api_key=").concat(t,"&language=en-US"),a=n+s;return await fetch(a).then((e=>(console.log("MOVIE IdValue",e),e.json())))}async function l(e){const s="movie/".concat(e,"/credits?api_key=").concat(t,"&language=en-US"),a=n+s;return await fetch(a).then((e=>(console.log("Credits",e),e.json())))}async function i(e){const s="movie/".concat(e,"/reviews?api_key=").concat(t,"&language=en-US"),a=n+s;return await fetch(a).then((e=>(console.log("Reviews",e),e.json())))}},494:(e,s,a)=>{a.r(s),a.d(s,{default:()=>g});var t=a(216),n=a(43),r=a(401),c=(a(342),a(343)),o=a(655),l=a(475),i=a(756);const h={ImageGallery:"MoviesSearchResults_ImageGallery__PcI4A",movies__item:"MoviesSearchResults_movies__item__SFtcr",movie__card:"MoviesSearchResults_movie__card__X0cT6",movie__img:"MoviesSearchResults_movie__img__hsVD9",movie__name:"MoviesSearchResults_movie__name__1YhgX",movie__genre:"MoviesSearchResults_movie__genre__ggOwh",movie__year:"MoviesSearchResults_movie__year__wm7sc",movie__label:"MoviesSearchResults_movie__label__XaArV",epmtinessFiller:"MoviesSearchResults_epmtinessFiller__w0Y9U"};var _=a(579);function m(e){let{submitValue:s}=e;const[a,t]=(0,n.useState)([]),[m,u]=(0,n.useState)(1),[d,v]=(0,n.useState)(!1);(0,n.useEffect)((()=>{""!==s&&(v(!0),u(1),(0,i.xi)(s,1).then((e=>{t([...e.results]),e.results.length>=1&&""!==s?r.oR.success("Search successfull!"):0===e.results.length&&r.oR.error("Oops, nothing found!")})).catch((e=>{r.oR.error("Fetch error!"),console.log(e)})).finally((()=>v(!1))))}),[s]),(0,n.useEffect)((()=>{1!==m&&(v(!0),(0,i.xi)(s,m).then((e=>{t([...a,...e.results]),e.results.length>=1&&m>1?r.oR.success("More results successfully loaded!"):0===e.results.length&&m>1&&r.oR.error("Oops, nothing more!")})).catch((e=>{r.oR.error("Fetch error!"),console.log(e)})).finally((()=>v(!1))))}),[m]);return(0,_.jsxs)(_.Fragment,{children:[""===s&&(0,_.jsx)("div",{className:h.epmtinessFiller}),""!==s&&0===a.length&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("h2",{children:"No results"}),(0,_.jsx)("div",{className:h.epmtinessFiller})]}),""!==s&&0!==a.length&&(0,_.jsx)("h2",{children:"Search results"}),(0,_.jsxs)("ul",{className:h.ImageGallery,children:[d&&(0,_.jsx)(c.A,{}),a.map((e=>(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("li",{className:h.movies__item,children:(0,_.jsx)(l.N_,{to:"/movies/".concat(e.id),children:(0,_.jsxs)("div",{className:h.movie__card,children:[(0,_.jsx)("img",{className:h.movie__img,src:"https://www.themoviedb.org/t/p/w440_and_h660_face/".concat(e.poster_path),loading:"lazy",alt:"","data-src":e.poster_path}),(0,_.jsxs)("div",{className:h.movie__label,children:[(0,_.jsxs)("h3",{className:h.movie__name,children:[" ",e.title," "]}),(0,_.jsxs)("p",{className:h.movie__genre,children:["Genres: ",e.genre_ids]}),(0,_.jsxs)("p",{className:h.movie__year,children:["Release date: ",e.release_date]})]})]})})},e.id)}))),0!==a.length&&(0,_.jsx)(o.A,{onClick:()=>{u(m+1)}})]})]})}const u={Searchbar:"MoviesPage_Searchbar__9D+G8",SearchForm:"MoviesPage_SearchForm__N0hcd",SearchFormButton:"MoviesPage_SearchFormButton__n-Dud",SearchFormButtonLabel:"MoviesPage_SearchFormButtonLabel__k1vJS",SearchFormInput:"MoviesPage_SearchFormInput__vac1s"};function d(){const[e,s]=(0,n.useState)(""),[a,t]=(0,n.useState)(""),o=()=>{t("")};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("h1",{children:"Find the Movie you like!"}),""===e?(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("header",{className:u.Searchbar,children:(0,_.jsxs)("form",{className:u.SearchForm,onSubmit:e=>{if(e.preventDefault(),""===a.trim())return r.oR.warn("Please specify your request!"),void o();var t;t=a.toLowerCase().trim(),s(t),o()},children:[(0,_.jsx)("button",{type:"submit",className:u.SearchFormButton,children:(0,_.jsx)("span",{className:u.SearchFormButtonLabel,children:"Search"})}),(0,_.jsx)("input",{className:u.SearchFormInput,type:"text",autoComplete:"off",placeholder:"Search a movie",onChange:e=>{t(e.currentTarget.value)},value:a})]})})}):"",(0,_.jsx)(m,{submitValue:e}),(0,_.jsx)(c.A,{})]})}const v=(0,n.lazy)((()=>a.e(112).then(a.bind(a,731))));function g(){return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(d,{}),(0,_.jsx)(n.Suspense,{fallback:(0,_.jsx)(c.A,{}),children:(0,_.jsx)(t.BV,{children:(0,_.jsx)(t.qh,{path:"/:movieId/*",element:(0,_.jsx)(v,{})})})})]})}}}]);
//# sourceMappingURL=494.c938c6e4.chunk.js.map